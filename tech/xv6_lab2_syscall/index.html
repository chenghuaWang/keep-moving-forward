<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>XV6 Lab 2: syscall - Ubios Home</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="XV6 Lab 2: syscall" />
<meta property="og:description" content="MIT 6.S081 Lab2 website
ä¸ºäº†å®Œæˆ Syscall ä½œä¸šï¼Œéœ€è¦é˜…è¯»:
XV6-book, Chapter 2, Sections 4.3 and 4.4
files: user/user.h, kernel/proc.c kernel/proc.h, kernel/syscall.c kernel/syscall.h
system call tracing system call tracing éœ€è¦æˆ‘ä»¬è¡¥å…… kernel ä¸­çš„ä¸€äº›ç¨‹åºï¼Œå°†æŸç¨‹åºä¸­æŒ‡å®šçš„ system call æ‰“å°å‡ºæ¥ã€‚å½“ç„¶ï¼Œè¿™éœ€è¦æˆ‘ä»¬æ–°å¢ä¸€ä¸ª system_trace ç³»ç»Ÿè°ƒç”¨å‡½æ•°ã€‚é¢˜ä¸­ï¼Œç»™å®šçš„ tracing ç¨‹åºä»¥ trace [system-call-number] [cmd] çš„æ–¹å¼è¿è¡Œã€‚æˆ‘ä»¬é¦–å…ˆå»çœ‹ user/trace.c ä¸­çš„å†…å®¹ï¼Œçœ‹çœ‹ system call number æ˜¯æ€ä¹ˆä¼ å…¥ç³»ç»Ÿè°ƒç”¨çš„ã€‚
user/trace.c çš„ç¨‹åºå¦‚ä¸‹æ‰€ç¤º:
int main(int argc, char *argv[]) { int i; char *nargv[MAXARG]; if(argc &lt; 3 || (argv[1][0] &lt; &#39;0&#39; || argv[1][0] &gt; &#39;9&#39;)){ fprintf(2, &#34;Usage: %s mask command\n&#34;, argv[0]); exit(1); } if (trace(atoi(argv[1])) &lt; 0) { fprintf(2, &#34;%s: trace failed\n&#34;, argv[0]); exit(1); } for(i = 2; i &lt; argc &amp;&amp; i &lt; MAXARG; i&#43;&#43;){ nargv[i-2] = argv[i]; } exec(nargv[0], nargv); exit(0); } æˆ‘ä»¬å‘ç°è¿™ä¸ªç¨‹åºç›´æ¥ä½¿ç”¨äº† trace ç³»ç»Ÿè°ƒç”¨æ¥å®ç°ã€‚æ‰€ä»¥æ¥ä¸‹æ¥çš„ä»»åŠ¡æ˜¯è¿›è¡Œ trace ç³»ç»Ÿè°ƒç”¨çš„å®ç°ã€‚å†æ¬¡å›é¡¾ Lab 1 ä¸­çš„å†…å®¹ï¼Œåœ¨ Lab 1 ä¸­æˆ‘ä»¬åˆ†æç³»ç»Ÿè°ƒç”¨æ˜¯é€šè¿‡åœ¨ usys." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chenghuawang.github.io/keep-moving-forward/tech/xv6_lab2_syscall/" /><meta property="article:section" content="Tech" />
<meta property="article:published_time" content="2023-02-25T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-02-25T00:00:00+00:00" />

		<meta itemprop="name" content="XV6 Lab 2: syscall">
<meta itemprop="description" content="MIT 6.S081 Lab2 website
ä¸ºäº†å®Œæˆ Syscall ä½œä¸šï¼Œéœ€è¦é˜…è¯»:
XV6-book, Chapter 2, Sections 4.3 and 4.4
files: user/user.h, kernel/proc.c kernel/proc.h, kernel/syscall.c kernel/syscall.h
system call tracing system call tracing éœ€è¦æˆ‘ä»¬è¡¥å…… kernel ä¸­çš„ä¸€äº›ç¨‹åºï¼Œå°†æŸç¨‹åºä¸­æŒ‡å®šçš„ system call æ‰“å°å‡ºæ¥ã€‚å½“ç„¶ï¼Œè¿™éœ€è¦æˆ‘ä»¬æ–°å¢ä¸€ä¸ª system_trace ç³»ç»Ÿè°ƒç”¨å‡½æ•°ã€‚é¢˜ä¸­ï¼Œç»™å®šçš„ tracing ç¨‹åºä»¥ trace [system-call-number] [cmd] çš„æ–¹å¼è¿è¡Œã€‚æˆ‘ä»¬é¦–å…ˆå»çœ‹ user/trace.c ä¸­çš„å†…å®¹ï¼Œçœ‹çœ‹ system call number æ˜¯æ€ä¹ˆä¼ å…¥ç³»ç»Ÿè°ƒç”¨çš„ã€‚
user/trace.c çš„ç¨‹åºå¦‚ä¸‹æ‰€ç¤º:
int main(int argc, char *argv[]) { int i; char *nargv[MAXARG]; if(argc &lt; 3 || (argv[1][0] &lt; &#39;0&#39; || argv[1][0] &gt; &#39;9&#39;)){ fprintf(2, &#34;Usage: %s mask command\n&#34;, argv[0]); exit(1); } if (trace(atoi(argv[1])) &lt; 0) { fprintf(2, &#34;%s: trace failed\n&#34;, argv[0]); exit(1); } for(i = 2; i &lt; argc &amp;&amp; i &lt; MAXARG; i&#43;&#43;){ nargv[i-2] = argv[i]; } exec(nargv[0], nargv); exit(0); } æˆ‘ä»¬å‘ç°è¿™ä¸ªç¨‹åºç›´æ¥ä½¿ç”¨äº† trace ç³»ç»Ÿè°ƒç”¨æ¥å®ç°ã€‚æ‰€ä»¥æ¥ä¸‹æ¥çš„ä»»åŠ¡æ˜¯è¿›è¡Œ trace ç³»ç»Ÿè°ƒç”¨çš„å®ç°ã€‚å†æ¬¡å›é¡¾ Lab 1 ä¸­çš„å†…å®¹ï¼Œåœ¨ Lab 1 ä¸­æˆ‘ä»¬åˆ†æç³»ç»Ÿè°ƒç”¨æ˜¯é€šè¿‡åœ¨ usys."><meta itemprop="datePublished" content="2023-02-25T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-02-25T00:00:00+00:00" />
<meta itemprop="wordCount" content="591">
<meta itemprop="keywords" content="Lecture," />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:400,700">

	<link rel="stylesheet" href="/keep-moving-forward/css/style.css">
	

	<link rel="shortcut icon" href="/keep-moving-forward/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		
<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed" >
		<a class="logo__link" href="/keep-moving-forward/" title="Ubios Home" rel="home" >
			
			<div class="logo__item logo__text" >
					<div class="logo__title" >Ubios Home</div>
					<div class="logo__tagline">Remember brick walls let us show our dedication. They are there to separate us from the people who don&#39;t really want to achieve their childhood dreams. --Randy Pausch</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/keep-moving-forward/about/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/keep-moving-forward/about/hpc_ai/">
				
				<span class="menu__text">HPC &amp; AI å…¥å‘</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/keep-moving-forward/about/lecture_notes/">
				
				<span class="menu__text">Lecture-Notes</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/keep-moving-forward/about/paper_posts/">
				
				<span class="menu__text">Paper-Notes</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/keep-moving-forward/about/tech_posts/">
				
				<span class="menu__text">Tech-Posts</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/keep-moving-forward/about/thinking/">
				
				<span class="menu__text">Thinking</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/keep-moving-forward/about/news/">
				
				<span class="menu__text">ğŸ‰NewsğŸ‰</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			


<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">XV6 Lab 2: syscall</h1>
			<p class="post__lead">notes of MIT6.S081 Lab 2</p>
			<div class="post__meta meta"><div class="meta__item-author meta__item">
	<svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2 0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class="meta__text">chenghua.wang</span>
</div>
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2023-02-25T00:00:00Z">2023-02-25</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/keep-moving-forward/categories/operating-system/" rel="category">Operating system</a>
	</span>
</div></div>
		</header>

		
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
		<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#system-call-tracing">system call tracing</a></li>
        <li><a href="#sysinfo">sysinfo</a></li>
      </ul>
    </li>
  </ul>
</nav>
	</div>
</div><div class="content post__content clearfix">
			<p><a href="https://pdos.csail.mit.edu/6.S081/2022/labs/syscall.html">MIT 6.S081 Lab2 website</a></p>
<p>ä¸ºäº†å®Œæˆ Syscall ä½œä¸šï¼Œéœ€è¦é˜…è¯»:</p>
<blockquote>
<p>XV6-book, Chapter 2, Sections 4.3 and 4.4</p>
<p>files: <code>user/user.h</code>, <code>kernel/proc.c kernel/proc.h</code>, <code>kernel/syscall.c kernel/syscall.h</code></p>
</blockquote>
<h2 id="system-call-tracing">system call tracing</h2>
<p>system call tracing éœ€è¦æˆ‘ä»¬è¡¥å…… kernel ä¸­çš„ä¸€äº›ç¨‹åºï¼Œå°†æŸç¨‹åºä¸­æŒ‡å®šçš„ system call æ‰“å°å‡ºæ¥ã€‚å½“ç„¶ï¼Œè¿™éœ€è¦æˆ‘ä»¬æ–°å¢ä¸€ä¸ª <code>system_trace</code> ç³»ç»Ÿè°ƒç”¨å‡½æ•°ã€‚é¢˜ä¸­ï¼Œç»™å®šçš„ tracing ç¨‹åºä»¥ <code>trace [system-call-number] [cmd]</code> çš„æ–¹å¼è¿è¡Œã€‚æˆ‘ä»¬é¦–å…ˆå»çœ‹ <code>user/trace.c</code> ä¸­çš„å†…å®¹ï¼Œçœ‹çœ‹ <code>system call number</code> æ˜¯æ€ä¹ˆä¼ å…¥ç³»ç»Ÿè°ƒç”¨çš„ã€‚</p>
<p><code>user/trace.c</code> çš„ç¨‹åºå¦‚ä¸‹æ‰€ç¤º:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>argv[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>nargv[MAXARG];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(argc <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">||</span> (argv[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;0&#39;</span> <span style="color:#f92672">||</span> argv[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">&gt;</span> <span style="color:#e6db74">&#39;9&#39;</span>)){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fprintf</span>(<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;Usage: %s mask command</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, argv[<span style="color:#ae81ff">0</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">trace</span>(<span style="color:#a6e22e">atoi</span>(argv[<span style="color:#ae81ff">1</span>])) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fprintf</span>(<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;%s: trace failed</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, argv[<span style="color:#ae81ff">0</span>]);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span>(i <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&lt;</span> argc <span style="color:#f92672">&amp;&amp;</span> i <span style="color:#f92672">&lt;</span> MAXARG; i<span style="color:#f92672">++</span>){
</span></span><span style="display:flex;"><span>    nargv[i<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> argv[i];
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">exec</span>(nargv[<span style="color:#ae81ff">0</span>], nargv);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>æˆ‘ä»¬å‘ç°è¿™ä¸ªç¨‹åºç›´æ¥ä½¿ç”¨äº† trace ç³»ç»Ÿè°ƒç”¨æ¥å®ç°ã€‚æ‰€ä»¥æ¥ä¸‹æ¥çš„ä»»åŠ¡æ˜¯è¿›è¡Œ trace ç³»ç»Ÿè°ƒç”¨çš„å®ç°ã€‚å†æ¬¡å›é¡¾ Lab 1 ä¸­çš„å†…å®¹ï¼Œåœ¨ Lab 1 ä¸­æˆ‘ä»¬åˆ†æç³»ç»Ÿè°ƒç”¨æ˜¯é€šè¿‡åœ¨ usys.S çš„æ±‡ç¼–ç¨‹åºä¸­è¿›å…¥çš„ï¼Œç„¶å ecall åˆ° kernel/syscall.c ä¸­æ˜ å°„åˆ°çš„å‡½æ•°ï¼Œæœ€ç»ˆæ‰§è¡Œã€‚é‚£ä¹ˆ trace ç³»ç»Ÿè°ƒç”¨ä¹Ÿæ˜¯è¿™ä¸ªé€»è¾‘ã€‚</p>
<blockquote>
<p>åœ¨æ±‡ç¼–ä¸­ï¼Œæ˜¯è¿™æ ·å®ç°çš„:</p>
<pre tabindex="0"><code>li a7, SYS_trace
ecall
ret
</code></pre><p>è¿™ä¸ª lab ä½¿ç”¨çš„æ˜¯ risc-v æ±‡ç¼–ã€‚<code>li a7, SYS_trace</code> è¡¨ç¤ºæŠŠ 32 ä½çš„æ•°æ® <code>SYS_trace</code> åŠ è½½åˆ°æŒ‡å®šçš„å¯„å­˜å™¨ <code>a7</code> ä¸­ã€‚</p>
<p><code>ecall</code> å°†å¼‚å¸¸çš„ç±»å‹å†™åœ¨ <code>a7</code> å¯„å­˜å™¨ä¸­ï¼Œå‚æ•°å†™åœ¨ <code>a0-a5</code> å¯„å­˜å™¨ä¸­ã€‚syscall åœºæ™¯ä¸‹ï¼Œä½¿ç”¨ <code>ecall</code> ä¼šæŠŠå¤„ç†å™¨çš„ç‰¹æƒçº§åˆ«ç”± User-Mode è½¬åˆ° Supervisor-Modeã€‚é‚£ <code>ecall</code> è·³è½¬çš„åœ°å€åœ¨å“ªé‡Œå‘¢ï¼Ÿåœ¨æ“ä½œç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™ï¼Œä¼šæŠŠå¼‚å¸¸è¡¨åœ°å€ç»‘å®šåˆ° <code>stevc</code> å¯„å­˜å™¨ä¸­ã€‚</p>
</blockquote>
<p>ä¸ºäº†èƒ½å¤Ÿè®©æ¯ä¸ªè¿›ç¨‹çŸ¥é“éœ€è¦æ‰“å°å‡ºä»€ä¹ˆæ ·çš„ syscall è°ƒç”¨ï¼Œæˆ‘ä»¬éœ€è¦å°† <code>trace</code> è°ƒç”¨ä¼ å…¥çš„å€¼ä¼ ç»™è¿›ç¨‹ï¼Ÿé‚£å¦‚ä½•å°†ä¸€ä¸ªå€¼ä¼ ç»™è¿›ç¨‹ï¼Œè¿›ç¨‹åˆè¯¥å¦‚ä½•ä¿å­˜è¿™ä¸ªå€¼å‘¢ï¼Ÿ</p>
<p>æ˜¾ç„¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹è¿›ç¨‹çš„å®šä¹‰ï¼Œåœ¨ <code>kernel/proc.h</code> ä¸­ä¿®æ”¹è¿›ç¨‹çš„æ•°æ®ç»“æ„ï¼ŒåŠ ä¸Šä¸€ä¸ª mask é¡¹æ¥å­˜å‚¨éœ€è¦è·Ÿè¸ªçš„ç³»ç»Ÿè°ƒç”¨çš„æ•°å€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> proc {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">struct</span> spinlock lock;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">char</span> name[<span style="color:#ae81ff">16</span>];               <span style="color:#75715e">// Process name (debugging)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>   <span style="color:#66d9ef">int</span> mask;                    <span style="color:#75715e">// -- Modified -- Lab2, system call.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> };
</span></span></code></pre></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘åœ¨å“ªä¸ªåœ°æ–¹æ’å…¥æ‰“å°æŒ‡ä»¤æ¥æ‰“å°å‡º trace ç¨‹åºè¿½è¸ªçš„ç³»ç»Ÿè°ƒç”¨ï¼Ÿæ˜¯åœ¨ process ä¸­åŠ å…¥å—ï¼Ÿæ˜¾ç„¶ä¸èƒ½åœ¨è¿›ç¨‹ä¸­åšåˆ°è¿™ä¸€ç‚¹ã€‚æˆ‘ä»¬åªèƒ½åœ¨ <code>syscall</code> è¿™ä¸ªé€šç”¨çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•°é‡Œé¢åŠ å…¥å¤„ç†ä»£ç ã€‚åœ¨æ–‡ä»¶ <code>kernel/syscall.c</code> çš„å‡½æ•° <code>syscall</code> ä¸­åŠ å…¥æ‰“å°ä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">syscall</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(num <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> num <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">NELEM</span>(syscalls) <span style="color:#f92672">&amp;&amp;</span> syscalls[num]) {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// -- modified --
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> ((<span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> num) <span style="color:#f92672">&amp;</span> p<span style="color:#f92672">-&gt;</span>mask) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%d: syscall %s -&gt; %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, p<span style="color:#f92672">-&gt;</span>pid, sysname[num], p<span style="color:#f92672">-&gt;</span>trapframe<span style="color:#f92672">-&gt;</span>a0);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        ...
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œsyscall æŒ‡ä»¤ä¼šå°†è°ƒç”¨å·(a7 å¯„å­˜å™¨)è¯»å–åˆ° num ä¸­ï¼Œç„¶åæŸ¥æ‰¾ç³»ç»Ÿè°ƒç”¨è¡¨å¹¶æ‰§è¡Œã€‚æˆ‘åœ¨è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªæ–°çš„æ•°ç»„ <code>sysname</code> æ¥å­˜æ”¾æ¯ä¸ªç³»ç»Ÿè°ƒç”¨çš„åç§°ã€‚</p>
<blockquote>
<p>å¯¹äºç³»ç»Ÿè°ƒç”¨ï¼Œ<code>a0</code> å¯„å­˜å™¨ä¸­ä¿å­˜çš„æ˜¯è¿”å›å€¼</p>
</blockquote>
<p>ä¸ºäº†ä¾¿åˆ©çš„å¢åŠ æ–°çš„ç³»ç»Ÿè°ƒç”¨ï¼Œxv6 lab å®ç°äº†ç”¨ perl è„šæœ¬æ¥ç”Ÿæˆ asm çš„ä¸€æ®µå°ç¨‹åºã€‚æˆ‘ä»¬éœ€è¦åœ¨ <code>user/usys.pl</code> ä¸­åŠ å…¥:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-perl" data-lang="perl"><span style="display:flex;"><span>entry(<span style="color:#e6db74">&#34;trace&#34;</span>);
</span></span></code></pre></div><p>åœ¨ make qemu çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„é™·å…¥ç³»ç»Ÿè°ƒç”¨çš„æ±‡ç¼–å¦‚ä¸‹:</p>
<pre tabindex="0"><code>.global trace
trace:
 li a7, SYS_trace
 ecall
 ret
</code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç»™ sys_trace å‡½æ•°åœ¨å†…æ ¸ä¸­æ–°åŠ ä¸€æ®µå£°æ˜ï¼Œä¿®æ”¹ <code>kernel/syscall.c</code> æ–‡ä»¶ï¼ŒåŠ å…¥</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">extern</span> uint64 <span style="color:#a6e22e">sys_trace</span>();
</span></span></code></pre></div><p>ç„¶ååœ¨ <code>kernel/sysproc.c</code> ä¸­å®ç°ç³»ç»Ÿè°ƒç”¨:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>uint64
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sys_trace</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> mask;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">argint</span>(<span style="color:#ae81ff">0</span>, <span style="color:#f92672">&amp;</span>mask);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(mask <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">myproc</span>()<span style="color:#f92672">-&gt;</span>mask <span style="color:#f92672">=</span> mask;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿™é‡Œçš„ <code>argint</code> å‡½æ•°ä¼šå»è°ƒç”¨ <code>argraw</code> å‡½æ•°å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> uint64
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">argraw</span>(<span style="color:#66d9ef">int</span> n)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">struct</span> proc <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> <span style="color:#a6e22e">myproc</span>();
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">switch</span> (n) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> p<span style="color:#f92672">-&gt;</span>trapframe<span style="color:#f92672">-&gt;</span>a0;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> p<span style="color:#f92672">-&gt;</span>trapframe<span style="color:#f92672">-&gt;</span>a1;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> p<span style="color:#f92672">-&gt;</span>trapframe<span style="color:#f92672">-&gt;</span>a2;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> p<span style="color:#f92672">-&gt;</span>trapframe<span style="color:#f92672">-&gt;</span>a3;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> p<span style="color:#f92672">-&gt;</span>trapframe<span style="color:#f92672">-&gt;</span>a4;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> p<span style="color:#f92672">-&gt;</span>trapframe<span style="color:#f92672">-&gt;</span>a5;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">panic</span>(<span style="color:#e6db74">&#34;argraw&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å› ä¸ºæˆ‘ä»¬éœ€è¦è·å¾— mask å€¼ï¼Œè€Œ mask å€¼åœ¨ <code>trace()</code> å‡½æ•°ä¸­æ˜¯ç¬¬ä¸€ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥æ–¹ä½ <code>a0</code> å¯„å­˜å™¨æ¥å¾—åˆ° mask çš„å€¼ã€‚</p>
<p>æ€»ç»“:</p>
<p>åœ¨ xv6 ä¸­å®ç°ç³»ç»Ÿè°ƒç”¨æœ‰å¦‚ä¸‹çš„å‡ æ­¥:</p>
<ol>
<li>user-mode è°ƒç”¨ <code>trace()</code>ï¼Œ <code>trace()</code> çš„å®ç°åœ¨ <code>usys.S</code> çš„æ±‡ç¼–ä¸­</li>
<li><code>usys.S</code> å°† user-mode ä¸­è°ƒç”¨çš„ç³»ç»Ÿè°ƒç”¨ä»£å·å¡«å……åˆ° <code>a7</code> å¯„å­˜å™¨ä¸­</li>
<li><code>ecall</code> è°ƒç”¨äº† <code>kernel/syscall.c</code> ä¸­çš„ <code>syscall()</code> å‡½æ•°æ¥æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶åˆ‡æ¢åˆ° supervisor-mode
<ul>
<li><code>syscall()</code> å‡½æ•°æœ¬èº«æ²¡æœ‰å®šä¹‰è¾“å…¥ï¼Œå…¶ä» <code>a7</code> å¯„å­˜å™¨ä¸­æ‰¾åˆ°ç³»ç»Ÿè°ƒç”¨å‡½æ•°çš„ä»£å·ï¼Œç„¶åå†åœ¨å‡½æ•°è¡¨ä¸­æŸ¥æ‰¾ã€‚</li>
</ul>
</li>
</ol>
<p>Notes:</p>
<p>ä¸ºäº†è¿‡ <code>fork()</code> æµ‹è¯•æ ·ä¾‹ï¼Œéœ€è¦ä¿®æ”¹ <code>fork()</code> å‡½æ•°ï¼ŒåŠ å…¥ <code>np-&gt;mask = p-&gt;mask;</code> æ¥ç»§æ‰¿ maskã€‚</p>
<h2 id="sysinfo">sysinfo</h2>
<p>æœ‰äº†ä¸Šé¢çš„ä¾‹å­ï¼Œå®ç° <code>sysinfo()</code> å°±éå¸¸çš„ç®€å•äº†ã€‚sysinfo è¦æ±‚æˆ‘ä»¬ç»Ÿè®¡ç©ºé—²è¿›ç¨‹çš„æ•°é‡å’Œç©ºé—²å†…å­˜çš„æ•°é‡ã€‚</p>
<p>å¯¹äºè¿›ç¨‹ï¼Œxv6 ä½¿ç”¨äº†ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨äº†æ‰€æœ‰çš„è¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹çš„çŠ¶æ€éƒ½ä¿å­˜åœ¨ä¸€ä¸ªç»“æ„ä½“(PCB)ä¸­ã€‚å¦‚æœè¦æŸ¥è¯¢æ¯ä¸ªè¿›ç¨‹çš„çŠ¶æ€ï¼Œæˆ‘ä»¬åªéœ€è¦éå†æ‰€æœ‰çš„è¿›ç¨‹ï¼Œç„¶å check æ˜¯å¦æ˜¯ UNUSED çŠ¶æ€å°±è¡Œäº†ã€‚</p>
<p>æ¯ä¸ªè¿›ç¨‹çš„çŠ¶æ€åªèƒ½æ˜¯ä¸‹é¢çš„å‡ ç§ä¹‹ä¸€:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> procstate { UNUSED, SLEEPING, RUNNABLE, RUNNING, ZOMBIE };
</span></span></code></pre></div><p>æˆ‘ä»¬éœ€è¦åœ¨ <code>kernel/proc.c</code> ä¸­åŠ å…¥ä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">// -- modified --
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// To get the number of free processes.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>uint64
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">free_process_num</span>() {
</span></span><span style="display:flex;"><span>uint64 res <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> proc<span style="color:#f92672">*</span> tmp;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (tmp <span style="color:#f92672">=</span> proc; tmp <span style="color:#f92672">&lt;</span> <span style="color:#f92672">&amp;</span>proc[NPROC]; tmp<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">acquire</span>(<span style="color:#f92672">&amp;</span>tmp<span style="color:#f92672">-&gt;</span>lock);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (tmp<span style="color:#f92672">-&gt;</span>state <span style="color:#f92672">!=</span> UNUSED) res<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">release</span>(<span style="color:#f92672">&amp;</span>tmp<span style="color:#f92672">-&gt;</span>lock);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> res;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯: <strong>åœ¨ç»Ÿè®¡çŠ¶æ€çš„æ—¶å€™ï¼Œå¿…é¡»å¯¹å½“å‰çš„ PCB åŠ é”ï¼Œé˜²æ­¢å‡ºç°å†²çª(free_process_num)è¿è¡Œè¿‡ç¨‹ä¸­å˜æˆäº† UNUSED æˆ–è€…å…¶ä»–</strong></p>
<p>è€Œå¯ç”¨ç©ºé—´åˆ¤æ–­åˆ™æ˜¯åœ¨ <code>kernel/kalloc.c</code> æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½æŒ‡å‘ä¸Šä¸€ä¸ªå¯ç”¨ç©ºé—´ï¼Œè¿™ä¸ªkmemå°±æ˜¯ä¸€ä¸ªä¿å­˜æœ€åé“¾è¡¨çš„å˜é‡ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> run {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">struct</span> run <span style="color:#f92672">*</span>next;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">struct</span> spinlock lock;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">struct</span> run <span style="color:#f92672">*</span>freelist;
</span></span><span style="display:flex;"><span>} kmem;
</span></span></code></pre></div><p><code>kmem.freelist</code> æ°¸è¿œæŒ‡å‘æœ€åä¸€ä¸ªå¯ç”¨é¡µï¼Œé‚£æˆ‘ä»¬åªè¦é¡ºç€è¿™ä¸ªé“¾è¡¨å¾€å‰èµ°ï¼Œç›´åˆ° NULL ä¸ºæ­¢ã€‚</p>
<p>åœ¨ <code>kernel/kalloc.c</code> ä¸­åŠ å…¥ä»£ç :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>uint64
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">free_mem_num</span>() {
</span></span><span style="display:flex;"><span>uint64 res <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> run <span style="color:#f92672">*</span>page <span style="color:#f92672">=</span> kmem.freelist;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span>(page <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    res <span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    page <span style="color:#f92672">=</span> page<span style="color:#f92672">-&gt;</span>next;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> res <span style="color:#f92672">*</span> PGSIZE;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>å¯¹äºç»Ÿè®¡ç©ºé—²å†…å­˜å’Œè¿›ç¨‹çš„ä»£ç ï¼Œ<code>kernel/def.h</code> ä¸­å£°æ˜ã€‚</strong> ä¹‹åï¼Œæˆ‘ä»¬åœ¨ <code>kernel/sysproc.c</code> ä¸­å®ç° <code>sysinfo()</code> å‡½æ•°å¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>uint64
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">sys_sysinfo</span>() {
</span></span><span style="display:flex;"><span>uint64 address;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> sysinfo info;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> proc <span style="color:#f92672">*</span>p <span style="color:#f92672">=</span> <span style="color:#a6e22e">myproc</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">argaddr</span>(<span style="color:#ae81ff">0</span>, <span style="color:#f92672">&amp;</span>address);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (address <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>info.freemem <span style="color:#f92672">=</span> <span style="color:#a6e22e">free_mem_num</span>();
</span></span><span style="display:flex;"><span>info.nproc <span style="color:#f92672">=</span> <span style="color:#a6e22e">free_process_num</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">copyout</span>(p<span style="color:#f92672">-&gt;</span>pagetable, address, (<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#f92672">&amp;</span>info, <span style="color:#66d9ef">sizeof</span>(info)) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿™é‡Œ copyout æ˜¯å§é¡µè¡¨ä¸­çš„å†…å®¹ copy åˆ° user-mode çš„è¿›ç¨‹ä¿¡æ¯ä¸­å»ã€‚æˆ‘ä»¬é€šè¿‡ <code>argaddr(0, &amp;address);</code> æ‹¿åˆ° <code>info</code> çš„åœ°å€ï¼ŒæŠŠå†…æ ¸æ€çš„å†…å­˜ copy åˆ°ç”¨æˆ·æ€å»ã€‚</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/keep-moving-forward/tags/lecture/" rel="tag">Lecture</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="chenghua.wang avatar" src="/keep-moving-forward/img/Cornell_box.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About chenghua.wang</span>
	</div>
	<div class="authorbox__description">
		Learning and developing Machine learning infrastructure now. Did some works in Computer Vision and Graphics.
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/keep-moving-forward/tech/xv6_lab1_utility/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">XV6 Lab 1: Xv6 and Unix utilities</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/keep-moving-forward/tech/xv6_lab3_pagetable/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">XV6 Lab 3: Page Table</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 chenghua.wang.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/keep-moving-forward/js/menu.js"></script>




<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] }
  });
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async>
</script>
</body>
</html>